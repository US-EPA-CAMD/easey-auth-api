applications:
  - name: ((name))
    memory: ((memory))M
    disk_quota: ((disk))M
    instances: ((instances))
    buildpacks:
      - nodejs_buildpack
    env:
      OPTIMIZE_MEMORY: true
      EASEY_DB_SERVICE: ((dbSvc))
      EASEY_AUTH_API: https://((apiHost))/auth-mgmt
      EASEY_AUTH_API_HOST: ((host))
      EASEY_AUTH_API_PORT: ((port))
      EASEY_AUTH_API_PATH: ((path))
      EASEY_AUTH_API_TITLE: ((title))
      EASEY_AUTH_API_DESCRIPTION: ((description))
      EASEY_AUTH_API_ENV: ((environment))
      EASEY_AUTH_API_ENABLE_API_KEY: true
      EASEY_AUTH_API_ENABLE_CLIENT_TOKEN: true
      EASEY_AUTH_API_CLIENT_TOKEN_DURATION_MINUTES: 5
      EASEY_AUTH_API_ENABLE_SECRET_TOKEN: true
      EASEY_AUTH_API_ENABLE_AUTH_TOKEN: true
      EASEY_AUTH_API_AUTH_TOKEN_DURATION_MINUTES: 20
      EASEY_AUTH_API_REFRESH_TOKEN_THRESHOLD_SECONDS: 60
      EASEY_AUTH_API_ENABLE_CORS: true
      EASEY_AUTH_API_ENABLE_GLOBAL_VALIDATION_PIPE: true
      EASEY_CDX_SERVICES: ((cdxSvcs))
      EASEY_NAAS_SERVICES: ((naasSvcs))
      EASEY_API_GATEWAY_HOST: ((apiHost))
      EASEY_AUTH_CONTENT_API: https://((apiHost))/content-mgmt
      EASEY_AUTH_API_MOCK_PERMISSIONS_URL: https://((apiHost))/auth-mgmt/permissions
      EASEY_AUTH_API_PERMISSIONS_URL: ((permissionsUrl))
      EASEY_AUTH_API_MOCK_PERMISSIONS_ENABLED: ((mockPermissionsEnabled))
      EASEY_AUTH_API_DATA_FLOW: ((dataFlow))
      EASEY_AUTH_API_ENABLE_ALL_FACILITIES: ((enableAllFacilities))
      TZ: America/New_York

      # ICAM
      EASEY_AUTH_API_SIGN_FILES_INDIVIDUALLY: ((signFilesIndividually))
      OIDC_CLIENT_ID: ((oidcClientId))
      OIDC_CLIENT_CREDENTIAL_SCOPE: ((oidcClientCredentialScope))
      OIDC_CDX_API_TOKEN_URL: ((oidcCdxApiTokenUrl))
      OIDC_REST_API_BASE: ((oidcRestApiBase))
      ECMPS_UI_REDIRECT_URL: ((ecmpsUiRedirectUrl))
      OIDC_AUTH_API_REDIRECT_URI: ((oidcAuthApiRedirectUri))
      OIDC_CDX_TOKEN_ENDPOINT: ((oidcCdxTokenEndpoint))
      OIDC_CDX_LOGOUT_ENDPOINT: ((oidcCdxLogoutEndpoint))
      OIDC_CDX_JWKS_URI: ((oidcCdxJwksUri))
      OIDC_CDX_TOKEN_ISSUER: ((oidcCdxTokenIssuer))

    routes:
      - route: ((host))/((path))
    services:
      - camd-pg-db
      - log-drain
